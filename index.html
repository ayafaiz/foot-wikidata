<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Exercice 2.4 – Visualisations interactives</title>

  <!-- Lightbox pour images -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
  <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

  <style>
    body{font-family:Arial;margin:24px;background:#f5f0e6}
    h1{margin-bottom:4px}
    .small{color:#555}
    .card{background:#fff;padding:16px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.08);margin-bottom:18px}
    input,select{padding:10px;border-radius:10px;border:1px solid #ccc;width:100%;max-width:420px}
    mark{background:#ffeb3b}
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-top:12px}
    .thumb img{width:100%;height:140px;object-fit:cover;border-radius:10px;cursor:pointer}
    .caption{text-align:center;font-size:13px;color:#444;margin-top:4px}
  </style>
</head>

<body>
<h1>Exercice 2.4 – Visualisations interactives</h1>
<p class="small">Texte interactif + images interactives (sans Chart.js).</p>

<!-- TEXTE INTERACTIF -->
<div class="card">
  <h2>Visualisation interactive de textes</h2>
  <input id="search" type="text" placeholder="Rechercher un mot (ex: data, football, web)" />

  <p id="text">
    La visualisation de données permet de comprendre rapidement des informations complexes.
    Dans ce projet, nous utilisons des données liées au football, aux clubs, aux joueurs,
    et aux statistiques. Le texte devient interactif grâce à la recherche et au surlignage
    dynamique des mots.
  </p>
</div>

<!-- IMAGES INTERACTIVES -->
<div class="card">
  <h2>Visualisation interactive d’images</h2>

  <select id="filter">
    <option value="all">Toutes les catégories</option>
    <option value="club">Clubs</option>
    <option value="stadium">Stades</option>
  </select>

  <div class="gallery" id="gallery"></div>
</div>

<script>
/* ===== TEXTE INTERACTIF ===== */
const input = document.getElementById("search");
const textEl = document.getElementById("text");
const originalText = textEl.textContent;

input.addEventListener("input", () => {
  const q = input.value.trim();
  if (!q) {
    textEl.innerHTML = originalText;
    return;
  }
  const regex = new RegExp("(" + q + ")", "gi");
  textEl.innerHTML = originalText.replace(regex, "<mark>$1</mark>");
});

/* ===== IMAGES INTERACTIVES ===== */
const images = [
  {cat:"club", title:"Club 1", url:"https://images.unsplash.com/photo-1518091043644-c1d4457512c6?auto=format&fit=crop&w=800&q=60"},
  {cat:"club", title:"Club 2", url:"https://images.unsplash.com/photo-1521412644187-c49fa049e84d?auto=format&fit=crop&w=800&q=60"},
  {cat:"stadium", title:"Stade 1", url:"https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&w=800&q=60"},
  {cat:"stadium", title:"Stade 2", url:"https://images.unsplash.com/photo-1522778119026-d647f0596c20?auto=format&fit=crop&w=800&q=60"}
];

const gallery = document.getElementById("gallery");
const filter = document.getElementById("filter");

function renderGallery(cat="all") {
  gallery.innerHTML = "";
  images
    .filter(img => cat === "all" || img.cat === cat)
    .forEach(img => {
      const div = document.createElement("div");
      div.className = "thumb";
      div.innerHTML = `
        <a href="${img.url}" class="glightbox" data-title="${img.title}">
          <img src="${img.url}" alt="${img.title}">
        </a>
        <div class="caption">${img.title}</div>
      `;
      gallery.appendChild(div);
    });
  GLightbox({ selector: ".glightbox" });
}

filter.addEventListener("change", () => renderGallery(filter.value));
renderGallery();
</script>
</body>
</html>
